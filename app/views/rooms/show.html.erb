<div class="container-fluid d-flex m-0 p-0" style="height: calc(100vh - 58px);">

  <!-- playlist container -->
<div class="playlist-container" style="width: 400px;">
  <div>
    <ul class="tabs">
      <li data-tab-target="#queue" class="active tab">Queue</li>
      <li data-tab-target="#search" class="tab">Search</li>
    </ul>
  </div>

  <div data-controller="search" class="tab-content">
    <div id="queue" data-tab-content class="active">
      <div data-search-target=""></div> <!-- queued tracks go here -->
    </div>

    <div id="search" data-tab-content>
      <div>
        <%= form_tag search_tracks_path, method: :post, data: { search_target: "form", action: "submit->search#search" }  do %>
          <%= text_field_tag :query, nil, placeholder: "search and add songs to your queue", style: "width: 400px" %>
        <% end %>
      </div>
      <div data-search-target="tracks"></div>
    </div>
  </div>
</div>

  <!-- right panel container -->
  <div class="right-panel d-flex flex-grow flex-column" style="width: 100%;">

    <!-- player and list of currently active djs -->
    <div class="player-and-djs-container border d-flex flex-column justify-content-between" style="height: 250px; width: 100%;">
        <div class="player p-1" style="height: 60%;">player</div>
        <%= render "room/djqueue", djs: @djs, room: @room %>
    </div>

    <!-- chat and chat member list -->
    <div class="chat-container d-flex border" style="height: 100%; width: 100%;">
      <div class="chatbox col-9 border" style="height: 100%">



        <div class="messages-container">
         <div class="messages">
        <!-- messages field -->
            <% @messages.each do |message| %>
              <div id="message-<%= message.id %>">
                <small>
                  <strong><%= message.user.name.split.first %></strong>
                  <i><%= message.created_at.strftime("%a %b %e at %l:%M %p") %></i>
                </small>
                <p><%= message.content %></p>
              </div>
            <% end %>
          </div>
          <!-- message input field -->
               <%= simple_form_for [@room, @message], html: {class: "d-flex"} do |f| %>
                <div class="message-input-container">
                  <%= f.input :content,
                    label: false,
                    placeholder: "Message ##{@room.name}",
                    wrapper_html: {class: "flex-grow-1"}
                  %>
                  <% f.submit "Send", class: "btn btn-primary mb-3" %>
                </div>
              <% end %>
          </div>
        </div>

      </div>




      <div class="container chatroom">



    </div>
  </div>
</div>
